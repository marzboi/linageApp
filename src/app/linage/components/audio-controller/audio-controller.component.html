<div class="body">
  <div class="media-player" *ngIf="currentTrack">
    <div class="title">{{currentTrack.number}}: {{currentTrack.title}}</div>

    <div class="bar">

      <div class="progress-bar-container" (click)="seek($event)">
        <div class="progress-bar-filled" [style.width]="getProgress() + '%'"></div>
      </div>

      <div class="timer">
        {{ formatTime(currentTime) }} / {{ formatTime(duration) }}
      </div>

    </div>

    <div class="controls">
      <div (click)="changeTrack(index - 1)">
        <mat-icon class=action>fast_rewind</mat-icon><span>Anterior</span>
      </div>

      <div>
        <mat-icon class="play" (click)="playAudio()" *ngIf="!audioPlaying">play_circle_outline</mat-icon>
        <mat-icon class="play" (click)="pauseAudio()" *ngIf="audioPlaying"> pause_circle_outline</mat-icon>
      </div>

      <div (click)="changeTrack(index + 1)">
        <span>Siguiente</span><mat-icon class=action>fast_forward</mat-icon>
      </div>
    </div>

    <audio #audioPlayer [src]="currentTrack.url" (timeupdate)="updateProgress()"
      (loadedmetadata)="metadataLoaded()"></audio>

  </div>
</div>
